{% extends "base.html" %}

{% block content %}
  <h2>Check Weather</h2>

  <form method="post">
    {% csrf_token %}
    <label for="city">Select a city:</label>
    <select name="city" id="city">
      {% for city_option in cities %}
        <option value="{{ city_option }}" {% if city_option == selected_city %}selected{% endif %}>
          {{ city_option }}
        </option>
      {% endfor %}
    </select>
    <button type="submit">Get Weather</button>
  </form>

  {% if weather %}
    <h3>Weather in {{ weather.city }}</h3>
    <p>Description: {{ weather.description }}</p>
    <p>Temperature: {{ weather.temperature }}Â°C</p>
  {% else %}
    <p>Weather data not available for '{{ selected_city }}'.</p>
  {% endif %}
{% endblock %}
